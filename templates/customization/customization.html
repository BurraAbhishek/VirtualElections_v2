<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Customizations</title>
        {% load static %}
        <script src="{% static '/controllers/css.js' %}"></script>
        <script>
            loadCSS(2);
        </script>
        <style>
            .text-padded {
                font-family: -apple-system, BlinkMacSystemFont, "Segoe UI",
                    "Calibri", "roboto", "helvetica", "arial", sans-serif;
                font-size: 1.25em;
                padding: 1% 1%;
            }
            select {
                font-size: 1em;
            }
        </style>
    </head>

    <body>
        <h1>Customization</h1>
        <div class="text-padded">
            At the moment, only toggling between light and dark mode is
            supported.
            <br />
            If the changes are not yet reflected, refresh the page(s) where the
            changes are yet to be reflected.
        </div>
        <h2>
            <label for="themeselect">Select Theme:</label>
            <select
                name="themeselect"
                id="themeselect"
                onchange="javascript:changeTheme();"
            >
                <option value="Default">Light Theme</option>
                <option value="Dark">Dark Theme</option>
            </select>
        </h2>
        <script>
            if (typeof Storage !== "undefined") {
                document.getElementById("themeselect").value =
                    localStorage.getItem(getColorModeTitle());
            } else {
                var d = new Date();
                if (d.getHours() >= 6 && d.getHours() < 18) {
                    document.getElementById("themeselect").value = "Default";
                } else {
                    document.getElementById("themeselect").value = "Dark";
                }
            }
        </script>
        <script>
            function changeTheme() {
                if (typeof Storage !== "undefined") {
                    localStorage.setItem(
                        getColorModeTitle(),
                        document.getElementById("themeselect").value
                    );
                }
                window.location.reload();
            }
        </script>
    </body>
</html>
